{% extends "base.html" %}

{% block title %}Contact{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="py-32 bg-gradient-to-br from-gray-50 to-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h1 class="section-title text-center mx-auto" data-aos="fade-up">Get In Touch</h1>
        <p class="text-center text-gray-600 text-xl max-w-3xl mx-auto" data-aos="fade-up" data-aos-delay="100">
            Have a project in mind? Let's discuss how we can work together
        </p>
    </div>
</section>

<!-- Contact Section -->
<section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-2 gap-12">
            <!-- Contact Information -->
            <div data-aos="fade-right">
                <h2 class="text-3xl font-display font-bold mb-6">Let's Connect</h2>
                <p class="text-lg text-gray-700 mb-8">
                    I'm always interested in hearing about new projects, opportunities, and ways to 
                    collaborate. Whether you have a question or just want to say hi, feel free to reach out!
                </p>

                <!-- Contact Methods -->
                <div class="space-y-6 mb-8">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-12 h-12 bg-black text-white rounded-lg flex items-center justify-center">
                            <i class="fas fa-envelope text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-1">Email</h3>
                            <a href="mailto:your.email@example.com" class="text-gray-600 hover:text-black transition-colors">
                                your.email@example.com
                            </a>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-12 h-12 bg-black text-white rounded-lg flex items-center justify-center">
                            <i class="fas fa-phone text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-1">Phone</h3>
                            <a href="tel:+1234567890" class="text-gray-600 hover:text-black transition-colors">
                                (+234-1234567890..)
                            </a>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-12 h-12 bg-black text-white rounded-lg flex items-center justify-center">
                            <i class="fas fa-map-marker-alt text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-1">Location</h3>
                            <p class="text-gray-600">
                                Your City, Your Country
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Social Links -->
                <div>
                    <h3 class="font-bold text-lg mb-4">Follow Me</h3>
                    <div class="flex gap-4">
                        <a href="#" class="w-12 h-12 bg-black text-white rounded-lg flex items-center justify-center hover:bg-gray-800 transition-colors" target="_blank">
                            <i class="fab fa-linkedin-in text-xl"></i>
                        </a>
                        <a href="#" class="w-12 h-12 bg-black text-white rounded-lg flex items-center justify-center hover:bg-gray-800 transition-colors" target="_blank">
                            <i class="fab fa-github text-xl"></i>
                        </a>
                        <a href="#" class="w-12 h-12 bg-black text-white rounded-lg flex items-center justify-center hover:bg-gray-800 transition-colors" target="_blank">
                            <i class="fab fa-twitter text-xl"></i>
                        </a>
                        <a href="#" class="w-12 h-12 bg-black text-white rounded-lg flex items-center justify-center hover:bg-gray-800 transition-colors" target="_blank">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                    </div>
                </div>

                <!-- Availability -->
                <div class="mt-8 p-6 bg-gray-50 rounded-lg">
                    <div class="flex items-center gap-3 mb-2">
                        <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                        <h3 class="font-bold text-lg">Currently Available</h3>
                    </div>
                    <p class="text-gray-600">
                        Open to new opportunities and freelance projects. 
                        I typically respond within 24 hours.
                    </p>
                </div>
            </div>

            <!-- Contact Form -->
            <div data-aos="fade-left">
                <form id="contact-form" action="/api/contact" method="POST" class="card-minimal">
                    <!-- Flash Messages -->
                    {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                            {% for category, message in messages %}
                                <div class="mb-6 p-4 rounded-lg {% if category == 'success' %}bg-green-50 text-green-800 border border-green-200{% else %}bg-red-50 text-red-800 border border-red-200{% endif %}">
                                    <div class="flex items-center gap-2">
                                        <i class="fas {% if category == 'success' %}fa-check-circle{% else %}fa-exclamation-circle{% endif %}"></i>
                                        <span>{{ message }}</span>
                                    </div>
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}

                    <!-- Name -->
                    <div class="mb-6">
                        <label for="name" class="block font-semibold mb-2">
                            Your Name <span class="text-red-500">*</span>
                        </label>
                        <input 
                            type="text" 
                            id="name" 
                            name="name" 
                            required
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all"
                            placeholder="John Doe">
                    </div>

                    <!-- Email -->
                    <div class="mb-6">
                        <label for="email" class="block font-semibold mb-2">
                            Email Address <span class="text-red-500">*</span>
                        </label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            required
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all"
                            placeholder="john@example.com">
                    </div>

                    <!-- Subject -->
                    <div class="mb-6">
                        <label for="subject" class="block font-semibold mb-2">
                            Subject <span class="text-red-500">*</span>
                        </label>
                        <input 
                            type="text" 
                            id="subject" 
                            name="subject" 
                            required
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all"
                            placeholder="Project Inquiry">
                    </div>

                    <!-- Message -->
                    <div class="mb-6">
                        <label for="message" class="block font-semibold mb-2">
                            Message <span class="text-red-500">*</span>
                        </label>
                        <textarea 
                            id="message" 
                            name="message" 
                            rows="6" 
                            required
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all resize-none"
                            placeholder="Tell me about your project..."></textarea>
                    </div>

                    <!-- Privacy Notice -->
                    <div class="mb-6 flex items-start gap-3">
                        <input 
                            type="checkbox" 
                            id="privacy" 
                            name="privacy" 
                            required
                            class="mt-1 w-4 h-4 border-gray-300 rounded focus:ring-2 focus:ring-black">
                        <label for="privacy" class="text-sm text-gray-600">
                            I agree to the processing of my personal data for the purpose of responding to my inquiry. 
                            Your information will not be shared with third parties.
                        </label>
                    </div>

                    <!-- Submit Button -->
                    <button 
                        type="submit" 
                        class="btn-primary w-full justify-center"
                        id="submit-btn">
                        <i class="fas fa-paper-plane mr-2"></i>
                        <span>Send Message</span>
                    </button>

                    <!-- Loading State (hidden by default) -->
                    <div id="loading" class="hidden text-center py-4">
                        <i class="fas fa-spinner fa-spin text-2xl"></i>
                        <p class="text-gray-600 mt-2">Sending your message...</p>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<!-- FAQ Section --> <section class="py-20 bg-gray-50"> <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"> <h2 class="section-title text-center mx-auto" data-aos="fade-up">Frequently Asked Questions</h2> <div class="mt-12 space-y-4"> <!-- FAQ 1 --> <div class="card-minimal" data-aos="fade-up" data-aos-delay="0"> <button class="faq-question w-full text-left flex items-center justify-between"> <h3 class="text-lg font-bold">What services do you offer?</h3> <i class="fas fa-chevron-down transition-transform"></i> </button> <div class="faq-answer hidden mt-4 text-gray-600"> I offer full-stack web development, machine learning solutions, technical consulting, and research collaboration. I specialize in Python, JavaScript, and modern web frameworks. </div> </div> <!-- FAQ 2 --> <div class="card-minimal" data-aos="fade-up" data-aos-delay="100"> <button class="faq-question w-full text-left flex items-center justify-between"> <h3 class="text-lg font-bold">What's your typical response time?</h3> <i class="fas fa-chevron-down transition-transform"></i> </button> <div class="faq-answer hidden mt-4 text-gray-600"> I usually respond to inquiries within 24 hours during business days. For urgent matters, please indicate this in your message subject line. </div> </div> <!-- FAQ 3 --> <div class="card-minimal" data-aos="fade-up" data-aos-delay="200"> <button class="faq-question w-full text-left flex items-center justify-between"> <h3 class="text-lg font-bold">Do you work with international clients?</h3> <i class="fas fa-chevron-down transition-transform"></i> </button> <div class="faq-answer hidden mt-4 text-gray-600"> Yes! I work with clients globally and am experienced in remote collaboration. I'm flexible with time zones and can accommodate different working schedules. </div> </div> <!-- FAQ 4 --> <div class="card-minimal" data-aos="fade-up" data-aos-delay="300"> <button class="faq-question w-full text-left flex items-center justify-between"> <h3 class="text-lg font-bold">What's your project selection criteria?</h3> <i class="fas fa-chevron-down transition-transform"></i> </button> <div class="faq-answer hidden mt-4 text-gray-600"> I look for projects that are technically challenging, align with my expertise, and have a positive impact. I'm particularly interested in projects involving AI, scalable systems, and innovative solutions. </div> </div> <!-- FAQ 5 --> <div class="card-minimal" data-aos="fade-up" data-aos-delay="400"> <button class="faq-question w-full text-left flex items-center justify-between"> <h3 class="text-lg font-bold">Are you available for speaking engagements?</h3> <i class="fas fa-chevron-down transition-transform"></i> </button> <div class="faq-answer hidden mt-4 text-gray-600"> Yes! I'm available for technical talks, workshops, and podcast interviews. Please reach out with details about your event, and we can discuss availability and topics. </div> </div> </div> </div> </section>

<!-- Map Section (Optional) -->
<section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="rounded-lg overflow-hidden shadow-lg h-96 bg-gray-200" data-aos="fade-up">
            <div class="w-full h-full flex items-center justify-center">
                <div class="text-center">
                    <i class="fas fa-map-marked-alt text-6xl text-gray-400 mb-4"></i>
                    <p class="text-gray-600">Map placeholder - Add your location map here</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ + Contact Script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const faqButtons = document.querySelectorAll('.faq-question');
    faqButtons.forEach(button => {
        button.addEventListener('click', function() {
            const answer = this.nextElementSibling;
            const icon = this.querySelector('i');
            faqButtons.forEach(otherButton => {
                if (otherButton !== button) {
                    otherButton.nextElementSibling.classList.add('hidden');
                    otherButton.querySelector('i').style.transform = 'rotate(0deg)';
                }
            });
            answer.classList.toggle('hidden');
            icon.style.transform = answer.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
        });
    });

    // Contact Form Submission with JSON
    const form = document.getElementById('contact-form');
    const submitBtn = document.getElementById('submit-btn');
    const loading = document.getElementById('loading');

    form.addEventListener('submit', async function(e) {
        e.preventDefault();

        submitBtn.classList.add('hidden');
        loading.classList.remove('hidden');

        const formData = {
            name: form.name.value,
            email: form.email.value,
            subject: form.subject.value,
            message: form.message.value
        };

        try {
            const response = await fetch('/api/contact', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(formData)
            });

            const result = await response.json();

            if (result.success) {
                alert('✅ Message sent successfully!');
                form.reset();
            } else {
                alert('⚠️ ' + result.message);
            }
        } catch (error) {
            alert('❌ Error sending message. Please try again.');
            console.error(error);
        } finally {
            submitBtn.classList.remove('hidden');
            loading.classList.add('hidden');
        }
    });
});
</script>

{% endblock %}
